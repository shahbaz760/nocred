name: nocred

on:
    push:
        branches:
              - main
permissions:
  id-token: write
  contents: read


jobs:
    build:
      runs-on: ubuntu-latest
      
      steps:
          - name: Checkout code
            uses: actions/checkout@v2
            
          - name: Set up AWS credentials via OIDC
            id: aws-oidc
            uses: aws-actions/configure-aws-credentials@v1
            with:
              role-to-assume: arn:aws:iam::637527414831:role/github-actions # Replace with your IAM Role ARN
              aws-region: us-east-1 

          - name: Aws CLI test
            run: aws sts get-caller-identity

    
